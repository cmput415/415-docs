\documentclass[../../gazprea.tex]{subfiles}

\begin{document}
Streams are an implicit language type only usable when a stream is assigned to a variable declared
\code{var}. An input stream and an output stream are \textit{different types}. Both types have no
valid conversions to any other type nor any valid operations besides the stream in and out
operators.

\textit{Gazprea} has two streams: stdout and stdin. As noted above they must be assigned to a var
They are not automatically available and cannot be used in expressions other than as the
right-hand-side of an assignment statement. Therefore, streams \textit{must be} assigned to a
\code{var} as so:
\begin{lstlisting}
  var out = std_output();
  var inp = std_input();
\end{lstlisting}

Streams cannot be duplicated, therefore, once a stream has been assigned, it \textit{cannot} be
assigned to a new variable.

Streams cannot be \code{const} because the only operator defined on them mutates the stream's
internal state. This means that a variable initialised with a stream can be assigned a new stream of
the same type. This would create a new stream with a clean state. For example:
\begin{lstlisting}
  var inp = std_input();
  inp = std_input();
\end{lstlisting}

Assigning a stream of a different type is a \textbf{type error}. For example, this should result in
an error.
\begin{lstlisting}
  var inp = std_input();
  inp = std_output();
\end{lstlisting}

\subsection{Output Stream}
\label{ssec:output}
\subfile{sections/streams/output.tex}

\subsection{Input Stream}
\label{ssec:input}
\subfile{sections/streams/input.tex}

\end{document}
