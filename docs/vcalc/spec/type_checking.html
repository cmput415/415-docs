

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8. Type Checking and ASTs &mdash; vcalc  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/googleFonts.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9. Scoping" href="scoping.html" />
    <link rel="prev" title="7. Statements" href="statements.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #007C41" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> vcalc
          

          
            
            <img src="../_static/logo-reverse.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">VCalc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change log</a></li>
</ul>
<p class="caption"><span class="caption-text">Language Specification</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="keywords.html">1. Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="vectors.html">2. Vectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="range.html">3. Range</a></li>
<li class="toctree-l1"><a class="reference internal" href="generators.html">4. Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="filters.html">5. Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="expressions.html">6. Expressions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="expressions.html#operators">6.1. Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="expressions.html#binary-operations-on-vectors">6.2. Binary Operations on Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="expressions.html#integer-to-vector-promotion">6.3. Integer to Vector Promotion</a></li>
<li class="toctree-l2"><a class="reference internal" href="expressions.html#vector-indexing">6.4. Vector Indexing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="statements.html">7. Statements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="statements.html#declaration">7.1. Declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="statements.html#assignment">7.2. Assignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="statements.html#conditional">7.3. Conditional</a></li>
<li class="toctree-l2"><a class="reference internal" href="statements.html#loops">7.4. Loops</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Type Checking and ASTs</a></li>
<li class="toctree-l1"><a class="reference internal" href="scoping.html">9. Scoping</a></li>
</ul>
<p class="caption"><span class="caption-text">Implementation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../impl/input.html">Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="../impl/output.html">Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../impl/assertions.html">Assertions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../impl/clarifications.html">Clarifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../impl/deliverables.html">Deliverables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../impl/tips_hints.html">Tips and Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../impl/llvm_tips_hints.html">LLVM Tips and Hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../impl/ast_tips_hints.html">AST Tips and Hints</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../start/layout.html">Project Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/clion_setup.html">Setting up CLion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/testing.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../start/testing.html#testing-tool">Testing Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../start/testing.html#generating-test-cases">Generating Test Cases</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">vcalc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">8. </span>Type Checking and ASTs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/spec/type_checking.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="type-checking-and-asts">
<h1><span class="section-number">8. </span>Type Checking and ASTs<a class="headerlink" href="#type-checking-and-asts" title="Permalink to this headline">¶</a></h1>
<p>With the addition of another type that can be mixed in, type checking
becomes a necessity in <em>Vcalc</em>. This means ensuring that vectors and
scalars are where they belong. Most expressions allow the interchange of
vectors and scalars, but there’s a few cases where it is necessary to
have one or the other.</p>
<p>Note that these rules are already in their respective sections, this
list just serves to bring further attention to where type checking is
important.</p>
<ul class="simple">
<li><p>Ranges: lower and upper bounds must be integers.</p></li>
<li><p>Conditional Statements: must be booleans (remember that integers can
be implicitly downcast to booleans).</p></li>
<li><p>Domains: in a domain expression (generator, filter, index) the domain
must be a vector.</p></li>
<li><p>Generators: the expression must be an integer (remember that booleans
can be implicitly upcast integers).</p></li>
<li><p>Filters: the predicate must be a boolean (remember that integers can
be implicitly downcast to booleans).</p></li>
</ul>
<p>A good way to handle this now and plan ahead for <em>gazprea</em> is to start
building an abstract syntax tree (AST) from your parse tree as well as a
class that knows how to traverse it.</p>
<p>An AST will allow you to attach information in ways that make sense to
you. It allows you to strip away unecessary tokens from the parse tree
as well as allowing you to convert the parse tree into a new form that
also makes sense to you. This could mean normalising parts of the tree
to reduce code generation efforts, attaching information through fields
or entirely new nodes, and more.</p>
<p>You can find more advice in the AST Tips and Tricks section.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="scoping.html" class="btn btn-neutral float-right" title="9. Scoping" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="statements.html" class="btn btn-neutral float-left" title="7. Statements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, cmput415

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>